<svg xmlns="http://www.w3.org/2000/svg" width="760" height="220" viewBox="0 0 760 220">
  <style>
    .box{fill:#f7f9fc;stroke:#2c3e50;stroke-width:1.1}
    .arrow{stroke:#2c3e50;stroke-width:1.1;marker-end:url(#m)}
    .label{font-family:monospace;font-size:12px;fill:#2c3e50}
    .title{font-family:sans-serif;font-size:14px;font-weight:bold;fill:#2c3e50}
    .cand{fill:#eaf2ff;stroke:#3b6ea8}
    .top{fill:#d8f5d1;stroke:#2c7a2c}
  </style>
  <defs>
    <marker id="m" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L6,3 L0,6 z" fill="#2c3e50" />
    </marker>
  </defs>
  <rect x="20" y="20" width="300" height="160" rx="6" class="box"/>
  <text x="30" y="40" class="title">candidate_edges (C items)</text>
  <g>
    <rect x="40" y="60" width="260" height="24" rx="4" class="cand"/>
    <text x="48" y="76" class="label">(u1,v1,{score:0.92})</text>
    <rect x="40" y="90" width="260" height="24" rx="4" class="cand"/>
    <text x="48" y="106" class="label">(u2,v2,{score:0.88})</text>
    <rect x="40" y="120" width="260" height="24" rx="4" class="cand"/>
    <text x="48" y="136" class="label">(u3,v3,{score:0.72})</text>
  </g>
  <line x1="320" y1="100" x2="360" y2="100" class="arrow"/>
  <rect x="360" y="20" width="360" height="160" rx="6" class="box"/>
  <text x="370" y="40" class="title">pruning (top-R by score)</text>
  <rect x="380" y="60" width="320" height="24" rx="4" class="top"/>
  <text x="388" y="76" class="label">keep R≪C → evaluate ΔSP only for top-R</text>
  <text x="380" y="108" class="label">knob: candidate_prune_topk (ENV: INSIGHTSPIKE_CAND_PRUNE_TOPK)</text>
  <text x="380" y="132" class="label">benefit: O(B·C) → O(B·R), R≪C</text>
</svg>

