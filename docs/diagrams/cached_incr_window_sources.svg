<svg xmlns="http://www.w3.org/2000/svg" width="820" height="260" viewBox="0 0 820 260">
  <style>
    .box{fill:#f7f9fc;stroke:#2c3e50;stroke-width:1.1}
    .arrow{stroke:#2c3e50;stroke-width:1.1;marker-end:url(#m)}
    .label{font-family:monospace;font-size:12px;fill:#2c3e50}
    .title{font-family:sans-serif;font-size:14px;font-weight:bold;fill:#2c3e50}
    .ok{fill:#d8f5d1;stroke:#2c7a2c}
  </style>
  <defs>
    <marker id="m" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L6,3 L0,6 z" fill="#2c3e50" />
    </marker>
  </defs>
  <rect x="20" y="20" width="360" height="210" rx="6" class="box"/>
  <text x="30" y="40" class="title">endpoint SSSP window (M)</text>
  <text x="30" y="62" class="label">recompute endpoint SSSP every M steps</text>
  <rect x="40" y="80" width="320" height="28" rx="4" class="ok"/>
  <text x="48" y="98" class="label">knob: endpoint_sssp_window (ENV: INSIGHTSPIKE_SP_ENDP_SSSP_WINDOW)</text>
  <text x="40" y="130" class="label">M=1: precise (default)</text>
  <text x="40" y="150" class="label">M=2..3: fewer recomputations</text>
  <text x="40" y="170" class="label">gain_eps: early stop if marginal gain ≤ ε</text>
  <rect x="440" y="20" width="360" height="210" rx="6" class="box"/>
  <text x="450" y="40" class="title">sources cap / focus</text>
  <text x="450" y="62" class="label">limit # of PairSet sources and bias near centers</text>
  <rect x="460" y="80" width="320" height="28" rx="4" class="ok"/>
  <text x="468" y="98" class="label">knobs: sp_sources_cap, sp_sources_focus(off|near|strict)</text>
  <text x="460" y="130" class="label">cap: SSSP count ≤ cap</text>
  <text x="460" y="150" class="label">focus: only nodes within k hops from centers</text>
</svg>

